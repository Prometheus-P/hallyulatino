---
title: HallyuLatino 코드 리뷰 가이드
version: 1.0.0
status: Draft
owner: @hallyulatino-team
created: 2025-11-25
updated: 2025-11-25
reviewers: []
language: Korean (한국어)
---

# CODE_REVIEW_GUIDE.md - 코드 리뷰 가이드

## 변경 이력 (Changelog)

| 버전 | 날짜 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0.0 | 2025-11-25 | @hallyulatino-team | 최초 작성 |

## 관련 문서 (Related Documents)

- [CONTRIBUTING.md](./CONTRIBUTING.md) - 기여 가이드
- [docs/guides/CLEAN_CODE_GUIDE.md](./docs/guides/CLEAN_CODE_GUIDE.md) - 클린 코드 가이드

---

## 📋 목차

1. [코드 리뷰의 목적](#-코드-리뷰의-목적)
2. [리뷰어의 역할](#-리뷰어의-역할)
3. [작성자의 역할](#-작성자의-역할)
4. [리뷰 프로세스](#-리뷰-프로세스)
5. [리뷰 체크리스트](#-리뷰-체크리스트)
6. [피드백 가이드](#-피드백-가이드)
7. [자주 발견되는 문제](#-자주-발견되는-문제)

---

## 🎯 코드 리뷰의 목적

### 핵심 목표

```
┌─────────────────────────────────────────────────────────────┐
│                   코드 리뷰의 4가지 목표                      │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  🔍 품질 보증          │  코드 품질과 일관성 유지            │
│  📚 지식 공유          │  팀 전체의 코드베이스 이해도 향상    │
│  🛡️ 버그 예방          │  프로덕션 전 결함 조기 발견          │
│  🌱 성장              │  서로에게서 배우고 성장              │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 코드 리뷰가 아닌 것

- ❌ 개인 공격의 장
- ❌ 스타일 전쟁터
- ❌ 완벽주의 강요
- ❌ 병목 현상의 원인

---

## 👀 리뷰어의 역할

### 리뷰어의 책임

1. **적시성**: PR이 올라오면 24시간 내 첫 리뷰 제공
2. **건설성**: 문제점뿐 아니라 개선 방안도 제시
3. **존중**: 코드를 비판하되 작성자를 비판하지 않음
4. **철저함**: 표면적 검토가 아닌 깊이 있는 리뷰

### 좋은 리뷰어의 자세

```
✅ "이 부분은 이렇게 수정하면 어떨까요? 이유는..."
✅ "이 패턴을 사용하면 테스트가 더 쉬워질 것 같습니다"
✅ "좋은 접근법입니다! 한 가지 제안이 있습니다..."

❌ "이건 틀렸습니다"
❌ "왜 이렇게 짰나요?"
❌ "이해가 안 됩니다" (구체적 질문 없이)
```

### 리뷰 우선순위

| 우선순위 | 항목 | 설명 |
|:--------:|------|------|
| 🔴 **P0** | 버그/보안 | 반드시 수정 필요 |
| 🟠 **P1** | 설계/아키텍처 | 장기적 영향 |
| 🟡 **P2** | 가독성/유지보수성 | 코드 품질 |
| 🟢 **P3** | 스타일/네이밍 | 선호도 (lint로 자동화) |

---

## ✍️ 작성자의 역할

### 리뷰 요청 전 체크리스트

- [ ] 자체 리뷰를 완료했는가?
- [ ] 모든 테스트가 통과하는가?
- [ ] PR 설명이 충분한가?
- [ ] 변경사항이 작은 단위로 분리되었는가?
- [ ] 관련 이슈가 링크되었는가?

### 좋은 PR 작성법

1. **작은 PR**: 200-400줄 이하 권장
2. **명확한 설명**: 왜, 무엇을, 어떻게 변경했는지
3. **컨텍스트 제공**: 배경 지식이 필요한 부분 설명
4. **셀프 리뷰**: 리뷰 요청 전 자신의 코드 검토

### 피드백 수용 자세

```
✅ "좋은 지적입니다. 수정하겠습니다"
✅ "이 방식을 선택한 이유는 ... 입니다. 어떻게 생각하시나요?"
✅ "다른 방법을 제안해 주셔서 감사합니다. 적용해 보겠습니다"

❌ 방어적 태도
❌ 피드백 무시
❌ 논쟁을 위한 논쟁
```

---

## 🔄 리뷰 프로세스

### 리뷰 플로우

```
┌─────────────────────────────────────────────────────────────┐
│                    Code Review Flow                          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐    │
│  │   PR    │──▶│  Auto   │──▶│  Human  │──▶│  Merge  │    │
│  │ Created │   │  Check  │   │  Review │   │         │    │
│  └─────────┘   └─────────┘   └─────────┘   └─────────┘    │
│       │             │             │             │          │
│       │             │             │             │          │
│  Self-Review   CI Pipeline    Feedback    Squash Merge    │
│                                  │                         │
│                                  ▼                         │
│                          ┌─────────────┐                  │
│                          │  Revisions  │                  │
│                          └─────────────┘                  │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 단계별 상세

#### 1. PR 생성 (작성자)
- 셀프 리뷰 완료
- PR 템플릿 작성
- 리뷰어 지정 (CODEOWNERS 또는 수동)

#### 2. 자동 검사 (CI)
- 린트 검사
- 단위 테스트
- 통합 테스트
- 보안 스캔
- 코드 커버리지

#### 3. 휴먼 리뷰 (리뷰어)
- 코드 로직 검토
- 설계 적합성 평가
- 피드백 작성

#### 4. 수정 (작성자)
- 피드백 반영
- 재리뷰 요청

#### 5. 승인 및 병합
- 최소 1명 승인 필요
- Squash and Merge

### 리뷰 타임라인

| 단계 | 목표 시간 |
|------|-----------|
| 첫 리뷰 | 24시간 이내 |
| 후속 리뷰 | 4시간 이내 |
| 전체 사이클 | 48시간 이내 |

---

## ✅ 리뷰 체크리스트

### 1. 기능성 (Functionality)

```
□ 코드가 의도한 대로 동작하는가?
□ 엣지 케이스가 처리되었는가?
□ 에러 핸들링이 적절한가?
□ 입력 검증이 이루어지는가?
```

### 2. 설계 (Design)

```
□ 단일 책임 원칙을 준수하는가?
□ 적절한 추상화 수준인가?
□ 의존성이 적절히 관리되는가?
□ 확장 가능한 설계인가?
```

### 3. 가독성 (Readability)

```
□ 변수/함수 이름이 명확한가?
□ 코드 흐름이 이해하기 쉬운가?
□ 주석이 필요한 곳에 있는가?
□ 복잡한 로직이 설명되어 있는가?
```

### 4. 테스트 (Testing)

```
□ 테스트가 충분한가?
□ 테스트가 의미 있는 시나리오를 커버하는가?
□ 테스트가 독립적인가?
□ 테스트 이름이 명확한가?
```

### 5. 성능 (Performance)

```
□ 불필요한 연산이 없는가?
□ N+1 쿼리 문제가 없는가?
□ 적절한 캐싱이 적용되었는가?
□ 대용량 데이터 처리가 고려되었는가?
```

### 6. 보안 (Security)

```
□ 입력 데이터가 적절히 검증되는가?
□ SQL Injection 취약점이 없는가?
□ XSS 취약점이 없는가?
□ 민감 정보가 노출되지 않는가?
□ 인증/인가가 올바르게 구현되었는가?
```

### 7. 문서화 (Documentation)

```
□ API 문서가 업데이트되었는가?
□ README가 업데이트되었는가?
□ 변경 내역이 기록되었는가?
□ 인라인 주석이 적절한가?
```

---

## 💬 피드백 가이드

### 피드백 종류

| 접두사 | 의미 | 예시 |
|--------|------|------|
| **[필수]** | 반드시 수정 필요 | 보안 취약점, 버그 |
| **[제안]** | 개선하면 좋음 | 리팩토링 아이디어 |
| **[질문]** | 이해를 위한 질문 | 설계 의도 파악 |
| **[칭찬]** | 좋은 코드 인정 | 모범 사례 |
| **[참고]** | 정보 공유 | 관련 문서 링크 |

### 좋은 피드백 예시

```markdown
**[필수]** 이 쿼리는 SQL Injection에 취약합니다.

현재 코드:
```python
query = f"SELECT * FROM users WHERE id = {user_id}"
```

제안:
```python
query = "SELECT * FROM users WHERE id = %s"
cursor.execute(query, (user_id,))
```

참고: [OWASP SQL Injection Prevention](https://owasp.org/...)
```

```markdown
**[제안]** 이 함수를 작은 단위로 분리하면 테스트하기 더 쉬울 것 같습니다.

현재:
```python
def process_order(order):
    # 100줄의 복잡한 로직
```

제안:
```python
def validate_order(order):
    # 검증 로직

def calculate_total(order):
    # 계산 로직

def save_order(order):
    # 저장 로직
```
```

```markdown
**[칭찬]** 이 에러 핸들링 패턴 좋네요! 다른 곳에서도 적용하면 좋겠습니다. 👍
```

### 피드백 어조

**권장:**
- "~하면 어떨까요?"
- "~를 고려해 보시는 건 어떨까요?"
- "제 생각에는 ~가 더 명확할 것 같습니다"

**지양:**
- "이건 틀렸습니다"
- "왜 이렇게 했나요?"
- "당연히 ~해야 합니다"

---

## ⚠️ 자주 발견되는 문제

### 1. 코드 스멜 (Code Smells)

#### 긴 함수
```python
# ❌ 나쁜 예
def process_user_registration(data):
    # 100줄 이상의 코드...
    pass

# ✅ 좋은 예
def process_user_registration(data):
    validated_data = validate_registration_data(data)
    user = create_user(validated_data)
    send_welcome_email(user)
    return user
```

#### 중복 코드
```python
# ❌ 나쁜 예
def get_user_full_name(user):
    return f"{user.first_name} {user.last_name}"

def get_admin_full_name(admin):
    return f"{admin.first_name} {admin.last_name}"

# ✅ 좋은 예
def get_full_name(person):
    return f"{person.first_name} {person.last_name}"
```

### 2. 보안 취약점

#### SQL Injection
```python
# ❌ 취약
query = f"SELECT * FROM users WHERE email = '{email}'"

# ✅ 안전
query = "SELECT * FROM users WHERE email = %s"
cursor.execute(query, (email,))
```

#### XSS
```typescript
// ❌ 취약
element.innerHTML = userInput;

// ✅ 안전
element.textContent = userInput;
```

### 3. 성능 문제

#### N+1 쿼리
```python
# ❌ 나쁜 예 - N+1 쿼리
users = User.query.all()
for user in users:
    print(user.profile.bio)  # 각 사용자마다 추가 쿼리

# ✅ 좋은 예 - Eager Loading
users = User.query.options(joinedload(User.profile)).all()
for user in users:
    print(user.profile.bio)
```

### 4. 에러 핸들링

```python
# ❌ 나쁜 예 - 모든 예외 삼키기
try:
    do_something()
except:
    pass

# ✅ 좋은 예 - 구체적 예외 처리
try:
    do_something()
except ValueError as e:
    logger.error(f"Invalid value: {e}")
    raise ValidationError("입력값이 올바르지 않습니다")
except ConnectionError as e:
    logger.error(f"Connection failed: {e}")
    raise ServiceUnavailableError("서비스에 연결할 수 없습니다")
```

---

## 📊 리뷰 메트릭

### 추적 지표

| 지표 | 목표 | 설명 |
|------|------|------|
| 첫 리뷰 시간 | < 24시간 | PR 생성부터 첫 리뷰까지 |
| 리뷰 사이클 | < 48시간 | PR 생성부터 병합까지 |
| 리뷰당 코멘트 | 3-7개 | 너무 적으면 형식적, 너무 많으면 비효율 |
| PR 크기 | < 400줄 | 큰 PR은 리뷰 품질 저하 |

---

## 🤝 리뷰 에티켓

### Do's

- ✅ 코드의 좋은 점도 언급하세요
- ✅ 구체적인 개선 방안을 제시하세요
- ✅ 질문으로 대화를 시작하세요
- ✅ 빠르게 응답하세요
- ✅ 배움의 기회로 삼으세요

### Don'ts

- ❌ 인신공격을 하지 마세요
- ❌ 스타일에 대해 과도하게 논쟁하지 마세요
- ❌ 비꼬거나 무시하는 태도를 보이지 마세요
- ❌ 리뷰를 미루지 마세요
- ❌ 승인만 누르고 넘어가지 마세요

---

*이 가이드는 팀의 성장과 함께 계속 발전합니다.*
