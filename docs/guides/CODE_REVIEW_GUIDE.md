---
title: HallyuLatino - Code Review Guide
version: 1.0.0
status: Approved
owner: @hallyulatino-team
created: 2024-11-28
updated: 2024-11-28
reviewers: []
---

# CODE_REVIEW_GUIDE.md - 코드 리뷰 가이드

> **이 문서는 코드 리뷰의 표준 절차와 체크리스트를 제공합니다.**
> 리뷰어와 기여자 모두 이 가이드를 참조하여 효율적인 코드 리뷰를 진행합니다.

---

## 변경 이력 (Changelog)

| 버전 | 날짜 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0.0 | 2024-11-28 | @claude | 최초 작성 |

---

## 1. 코드 리뷰 원칙

### 1.1 목적

```
┌─────────────────────────────────────────────────────────────────────────┐
│                     코드 리뷰의 목적                                     │
├─────────────────────────────────────────────────────────────────────────┤
│  1. 코드 품질 향상        - 버그 사전 발견, 가독성 개선                   │
│  2. 지식 공유             - 팀 전체의 코드베이스 이해도 향상              │
│  3. 일관성 유지           - 코딩 스타일, 패턴 통일                       │
│  4. 학습 기회             - 리뷰어와 기여자 모두의 성장                   │
└─────────────────────────────────────────────────────────────────────────┘
```

### 1.2 핵심 원칙

| 원칙 | 설명 |
|------|------|
| **존중** | 코드를 비판하되 사람을 비판하지 않음 |
| **건설적** | 문제점만 지적하지 말고 해결책 제시 |
| **구체적** | "이상하다" → "X 때문에 Y 문제 발생 가능" |
| **신속** | 24시간 내 첫 리뷰 (소규모 PR은 4시간 내) |
| **배움** | 더 나은 방법을 배우고 공유 |

### 1.3 리뷰어 마인드셋

```
❌ "이 코드는 틀렸습니다"
✅ "이 부분을 X로 변경하면 Y 문제를 방지할 수 있을 것 같습니다"

❌ "왜 이렇게 했나요?"
✅ "이 접근 방식을 선택한 이유가 궁금합니다. 제가 생각한 대안은 X입니다"

❌ "이해가 안 됩니다"
✅ "이 로직의 의도를 설명해 주시겠어요? 제 이해로는 X인 것 같은데..."
```

---

## 2. 리뷰 프로세스

### 2.1 PR 리뷰 플로우

```
┌─────────────┐
│  PR 생성    │
│  (Author)   │
└──────┬──────┘
       │
       ▼
┌─────────────┐     ┌─────────────┐
│  자동 검사   │ ──▶ │  CI 실패?   │ ──Yes──▶ Author 수정
│  (CI/CD)    │     │             │
└──────┬──────┘     └──────┬──────┘
       │                   │No
       ▼                   ▼
┌─────────────┐     ┌─────────────┐
│ 리뷰어 할당  │ ◀── │  CI 통과    │
│             │     │             │
└──────┬──────┘     └─────────────┘
       │
       ▼
┌─────────────┐
│  코드 리뷰   │
│  (Reviewer) │
└──────┬──────┘
       │
       ▼
┌─────────────┐     ┌─────────────┐
│  피드백?    │ ──▶ │  수정 필요?  │ ──Yes──▶ Author 수정 ──┐
│             │     │             │                        │
└─────────────┘     └──────┬──────┘                        │
                          │No                              │
                          ▼                                │
                   ┌─────────────┐                         │
                   │   Approve   │ ◀───────────────────────┘
                   │             │
                   └──────┬──────┘
                          │
                          ▼
                   ┌─────────────┐
                   │    Merge    │
                   │             │
                   └─────────────┘
```

### 2.2 리뷰 타임라인

| PR 크기 | 라인 수 | 첫 리뷰 목표 | 완료 목표 |
|---------|---------|-------------|----------|
| XS | 1-50 | 4시간 | 1일 |
| S | 51-150 | 8시간 | 1일 |
| M | 151-300 | 24시간 | 2일 |
| L | 301-500 | 24시간 | 3일 |
| XL | 500+ | 분할 요청 | - |

### 2.3 리뷰어 할당

- **최소 1명**의 리뷰어 승인 필요
- 관련 도메인 전문가 우선
- CODEOWNERS 파일 기반 자동 할당 (향후)

---

## 3. 리뷰 체크리스트

### 3.1 일반 체크리스트

```
┌─────────────────────────────────────────────────────────────────────────┐
│ 📋 GENERAL CHECKLIST                                                    │
├─────────────────────────────────────────────────────────────────────────┤
│ □ PR 제목과 설명이 변경 내용을 명확히 설명하는가?                          │
│ □ 커밋 메시지가 컨벤션을 따르는가?                                        │
│ □ 변경 범위가 PR 제목과 일치하는가? (관련 없는 변경 없음)                  │
│ □ 빌드가 성공하는가? (CI 통과)                                           │
│ □ 문서가 업데이트되었는가? (필요 시)                                      │
└─────────────────────────────────────────────────────────────────────────┘
```

### 3.2 코드 품질 체크리스트

```
┌─────────────────────────────────────────────────────────────────────────┐
│ 🔍 CODE QUALITY CHECKLIST                                               │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│ ▸ 가독성                                                                │
│   □ 변수/함수 이름이 의도를 명확히 드러내는가?                            │
│   □ 복잡한 로직에 주석이 있는가?                                         │
│   □ 함수가 20줄 이하인가?                                               │
│   □ 중첩이 3단계 이하인가?                                              │
│                                                                         │
│ ▸ 유지보수성                                                            │
│   □ DRY 원칙을 따르는가? (중복 코드 없음)                                │
│   □ 단일 책임 원칙을 따르는가?                                           │
│   □ 매직 넘버가 상수로 추출되었는가?                                     │
│   □ 하드코딩된 값이 없는가?                                             │
│                                                                         │
│ ▸ 안정성                                                                │
│   □ 에러 처리가 적절한가?                                               │
│   □ 엣지 케이스가 처리되는가?                                            │
│   □ null/undefined 체크가 있는가?                                       │
│   □ 타입이 명확히 정의되었는가? (TypeScript)                             │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

### 3.3 Astro/컴포넌트 체크리스트

```
┌─────────────────────────────────────────────────────────────────────────┐
│ ⚡ ASTRO COMPONENT CHECKLIST                                            │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│ ▸ Props                                                                 │
│   □ Props 인터페이스가 정의되었는가?                                     │
│   □ 필수/선택 props가 올바르게 표시되었는가?                             │
│   □ 기본값이 적절한가?                                                  │
│                                                                         │
│ ▸ 접근성                                                                │
│   □ 시맨틱 HTML 태그를 사용하는가? (article, nav, main 등)              │
│   □ 이미지에 alt 속성이 있는가?                                         │
│   □ 버튼/링크에 접근 가능한 텍스트가 있는가?                             │
│   □ aria 속성이 필요한 곳에 있는가?                                     │
│                                                                         │
│ ▸ 성능                                                                  │
│   □ 이미지에 loading="lazy"가 있는가? (아래 fold)                       │
│   □ 불필요한 클라이언트 JS가 없는가?                                    │
│   □ 스타일이 컴포넌트 스코프인가?                                        │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

### 3.4 SEO 체크리스트

```
┌─────────────────────────────────────────────────────────────────────────┐
│ 🔎 SEO CHECKLIST                                                        │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│ ▸ 메타 태그                                                             │
│   □ title이 60자 이내인가?                                              │
│   □ description이 160자 이내인가?                                       │
│   □ canonical URL이 올바른가?                                           │
│   □ OG/Twitter 태그가 있는가?                                           │
│                                                                         │
│ ▸ 구조화 데이터                                                         │
│   □ JSON-LD가 올바른 형식인가?                                          │
│   □ Article schema에 필수 필드가 있는가?                                │
│   □ BreadcrumbList가 올바른가?                                          │
│                                                                         │
│ ▸ 콘텐츠                                                                │
│   □ H1 태그가 하나만 있는가?                                            │
│   □ 헤딩 계층이 올바른가? (H1 → H2 → H3)                                │
│   □ 이미지 alt 텍스트가 설명적인가?                                     │
│   □ 내부 링크가 올바른가?                                               │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

### 3.5 콘텐츠 체크리스트

```
┌─────────────────────────────────────────────────────────────────────────┐
│ 📝 CONTENT CHECKLIST (MDX)                                              │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│ ▸ Frontmatter                                                           │
│   □ 모든 필수 필드가 있는가?                                            │
│   □ 날짜 형식이 올바른가? (YYYY-MM-DD)                                  │
│   □ tags가 적절한가? (3-5개)                                            │
│   □ heroImage 경로가 유효한가?                                          │
│                                                                         │
│ ▸ 콘텐츠 품질                                                           │
│   □ 맞춤법/문법 오류가 없는가?                                          │
│   □ 스페인어가 자연스러운가?                                            │
│   □ 한국어 원제가 올바른가?                                             │
│   □ 정보가 정확한가? (출연진, 방영일 등)                                │
│                                                                         │
│ ▸ 포맷팅                                                                │
│   □ 마크다운 문법이 올바른가?                                           │
│   □ 이미지가 최적화되었는가? (WebP, 적절한 크기)                        │
│   □ 링크가 동작하는가?                                                  │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

---

## 4. 리뷰 코멘트 작성법

### 4.1 코멘트 유형

| 접두사 | 의미 | 필수 조치 |
|--------|------|----------|
| `[MUST]` | 반드시 수정 필요 | ✅ 필수 |
| `[SHOULD]` | 수정 권장 | ⚠️ 권장 |
| `[CONSIDER]` | 고려해볼 만함 | 💡 선택 |
| `[QUESTION]` | 이해를 위한 질문 | ❓ 답변 필요 |
| `[NITPICK]` | 사소한 지적 | 📝 선택 |
| `[PRAISE]` | 좋은 코드에 대한 칭찬 | 👍 정보 |

### 4.2 좋은 코멘트 예시

```markdown
[MUST] 이 부분에서 null 체크가 필요합니다.

`drama.cast`가 undefined일 수 있어서 런타임 에러가 발생할 수 있습니다.

제안:
```typescript
const cast = drama.cast ?? [];
```
```

```markdown
[SHOULD] 이 로직을 별도 함수로 추출하면 가독성이 좋아질 것 같습니다.

현재 코드:
```typescript
const filtered = dramas.filter(d => d.year >= 2020 && d.network === 'tvN' && d.episodes >= 16);
```

제안:
```typescript
function isRecentTvNDrama(drama: Drama): boolean {
  return drama.year >= 2020 && drama.network === 'tvN' && drama.episodes >= 16;
}
const filtered = dramas.filter(isRecentTvNDrama);
```
```

```markdown
[PRAISE] 👍 이 컴포넌트 구조가 정말 깔끔합니다!
Props 분리와 기본값 설정이 잘 되어 있네요.
```

### 4.3 피해야 할 코멘트

```markdown
❌ "이건 안 됩니다"
❌ "왜요?"
❌ "이상해요"
❌ "다시 하세요"
❌ "..."
```

---

## 5. 기여자 가이드

### 5.1 리뷰 요청 전 자가 점검

```bash
# 1. TypeScript 체크
pnpm check

# 2. 빌드 테스트
pnpm build

# 3. 로컬에서 확인
pnpm preview
```

### 5.2 리뷰 피드백 응답

| 상황 | 행동 |
|------|------|
| 동의함 | 수정 후 "Fixed in [commit]" 코멘트 |
| 부분 동의 | 이유 설명 후 논의 |
| 동의 안 함 | 정중하게 대안 제시 |
| 이해 안 됨 | 추가 설명 요청 |

### 5.3 수정 후 재요청

```bash
# 수정 사항 커밋
git add .
git commit -m "fix: address review feedback"

# 푸시
git push

# GitHub에서 Re-request review 클릭
```

---

## 6. 자동화 도구

### 6.1 CI 자동 검사

PR 생성 시 자동 실행:

```yaml
# .github/workflows/ci.yml (예정)
- pnpm check     # TypeScript 검사
- pnpm build     # 빌드 테스트
```

### 6.2 Lint 규칙 (향후)

```javascript
// .eslintrc.js (향후 설정)
{
  rules: {
    'no-console': 'warn',
    'no-unused-vars': 'error',
    '@typescript-eslint/explicit-function-return-type': 'warn',
  }
}
```

---

## 7. 특수 상황 가이드

### 7.1 긴급 핫픽스

```
프로덕션 버그 긴급 수정 시:
1. hotfix/ 브랜치 생성
2. 최소한의 수정만 포함
3. 빠른 리뷰 요청 (슬랙/DM)
4. 1명 승인 후 즉시 머지
5. 이후 정상 프로세스로 추가 개선
```

### 7.2 대규모 리팩토링

```
300줄 이상 변경 시:
1. 논의: 먼저 이슈/디스커션에서 방향 합의
2. 분할: 가능하면 여러 PR로 분할
3. 문서화: 변경 이유와 영향 상세 설명
4. 단계적: 기능 변경 없이 구조만 먼저 변경
```

### 7.3 콘텐츠 전용 PR

```
MDX 콘텐츠만 포함된 PR:
1. 빌드 성공 확인
2. Frontmatter 검증
3. 맞춤법/정보 정확성 리뷰
4. SEO 필드 확인
```

---

## 8. 리뷰 메트릭

### 8.1 추적 지표

| 지표 | 목표 | 설명 |
|------|------|------|
| 첫 리뷰 시간 | < 24시간 | PR 생성 후 첫 리뷰까지 |
| 머지까지 시간 | < 48시간 | PR 생성 후 머지까지 |
| 리뷰 라운드 | < 3회 | 승인까지 리뷰 횟수 |
| 코멘트 해결률 | 100% | 모든 코멘트 addressed |

### 8.2 개선 방법

```
리뷰 시간 단축:
- PR 크기 작게 유지 (< 300줄)
- 명확한 PR 설명 작성
- 자가 리뷰 먼저 수행

리뷰 품질 향상:
- 체크리스트 활용
- 자동화 도구 활용
- 정기적인 리뷰 가이드 업데이트
```

---

## 9. 관련 문서

| 문서 | 설명 |
|------|------|
| [CONTRIBUTING.md](../../CONTRIBUTING.md) | 기여 가이드 |
| [VERSIONING_GUIDE.md](./VERSIONING_GUIDE.md) | 버전 관리 가이드 |
| [CONTEXT.md](../../CONTEXT.md) | 프로젝트 컨텍스트 |

---

*효율적인 코드 리뷰는 팀 전체의 성장에 기여합니다.*
